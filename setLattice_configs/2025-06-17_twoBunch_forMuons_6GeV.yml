include: 
- "setLattice_configs/defaults.yml"
- "setLattice_configs/bounds.yml"

####################
########################################
############################################################
################################################################################
####################################################################################################
########################################################################################################################

#Injector settings

########################################################################################################################
####################################################################################################
################################################################################
############################################################
########################################
####################





#inputBeamFilePathSuffix : '/beams/2025-05-14_twobunch_unoptimized_shorterSpacing/2025-05-14_twobunch_unoptimized_shorterSpacing.h5'
#inputBeamFilePathSuffix : '/beams/2025-05-13_twobunch_unoptimized_shortSpacing/2025-05-13_twobunch_unoptimized_shortSpacing.h5'
inputBeamFilePathSuffix : '/beams/2024-10-14_Impact_TwoBunch/2024-10-14_TwoBunch.h5'


#As of 2025-06-17-10-25-25, continuing to use "2024-10-14_twoBunch_baseline.yml" injector settings without further optimization
bunchCount : 2
QA10361kG : -2.2481515833
QA10371kG : 2.338890812
QE10425kG : -1.0721888188
QE10441kG : 1.3152401751
QE10511kG : 0.2241208022
QE10525kG : 0.6276060908
L0BPhaseSet : -15.0  #By eye, this "feels" right... it should be a fit parameter though
L0BEnergyOffset : -2259313 #This new beam comes out of L0A just at a tiny bit higher energy. Compensate in L0B to get to the design 125 MeV



####################
########################################
############################################################
################################################################################
####################################################################################################
########################################################################################################################

#These are the post-L3 magnet values in defaults.yml as of 2025-06-17-10-33-57, MANUALLY SCALED by 6/10 to make them compatible with the new target energy

########################################################################################################################
####################################################################################################
################################################################################
############################################################
########################################
####################



#BC20 launch quads with independent EPICS control
Q19851kG : -38.457   #-64.095
Q19871kG : 26.9616  #44.936

#BC20 bends
B1EkG :  4.5198   #7.533
B2EkG :  -6.5652    #-10.942
B3EkG :  2.0454    #3.409

#BC20 quads
Q1EkG : 96.7866  # 161.311
Q2EkG : -92.5374  # -154.229
Q3EkG : 66.1302  # 110.217
Q4EkG : 79.3608  # 132.268
Q5EkG : -14.0238  # -23.373
Q6EkG : -85.3626  # -142.271

#BC20 sextupoles
S1ELkG : 482.9226  # 804.871
S2ELkG : -1229.6934  # -2049.489
S3ELkG : -611.5938  # -1019.3230 
S3ERkG : -611.5938  # -1019.3230 
S2ERkG : -1229.6934  # -2049.489 
S1ERkG : 482.9226  # 804.871

#IP quads
Q5FFkG : -43.1022  # -71.837
Q4FFkG : -48.7506  # -81.251
Q3FFkG : 59.535  # 99.225
Q2FFkG : 75.81  # 126.35
Q1FFkG : -141.1308  # -235.218
Q0FFkG : 75.8118  # 126.353
Q0DkG :  -65.8164  #-109.694
Q1DkG :  108.5172  #180.862
Q2DkG :  -65.8164  #-109.694

#Final focus kickers
XC1FFkG: 0.0
XC3FFkG: 0.0
YC1FFkG: 0.0
YC2FFkG: 0.0




####################
########################################
############################################################
################################################################################
####################################################################################################
########################################################################################################################

#Optimizer values

########################################################################################################################
####################################################################################################
################################################################################
############################################################
########################################
####################




#PENDING
centerBC14 : True
centerBC20 : True
centerMFFF : True
assertBC14Energy : 4.5e+9
assertBC20Energy : 6.0e+9
symmetricSextupoleStrengths : True


# L1PhaseSet : -32.7342594561
# L2PhaseSet : -43.3671351973
# L3PhaseSet : -32.162759978
#L2EnergyOffset : -6.817565553821569e+6
L2EnergyOffset : 0.0
L3EnergyOffset : -4.0e+9

L1PhaseSet : -22
L2PhaseSet : -40
# # L3PhaseSet : -32.162759978

# B1EkG : 4.2714401886
# B2EkG : -6.995081022
# B3EkG : 2.4956238719
# Q1EkG : 94.8044781735
# Q2EkG : -92.4415507372
# Q3EkG : 64.6095312121
# Q4EkG : 64.3838956117
# Q5EkG : -0.1279499406
# Q6EkG : -1.0636590049
# S1ELkG : 480.5795294461
# S2ELkG : -1625.5206286223
# S3ELkG : -2.4518404236
